{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.death_effect_conditions": { //This is the conditions which anything added here will affect both death_effect and on_death animation_controllers
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
            {
              "activate": "(1.0)"
            }
          ]
        },
        "activate": {
          "animations": ["death_effect","on_death"],
          "transitions": [
            {
              "default": "(1.0)"
            }
          ]
        }
      }
    },
    "controller.animation.death_effect": { //This is to detect if the player has the death_effect toggled or not
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
            {
              "condition": "(variable.death_effect == 1) && !query.is_alive"
            }
          ]
        },
        "condition": {
          "transitions": [
            {
              "default": "query.is_alive"
            }
          ],
          "on_entry": [
            "/summon lightning_bolt ~~3~",
            "/scoreboard players reset @s timealive",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/particle minecraft:totem_particle ~ ~ ~",
            "/execute @a[r=8] ~~~ playsound random.levelup @s ~~~ 2"
          ]
        }
      }
    },
    "controller.animation.on_death": { //This is to detect if the player has died in general which will execute commands
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
            {
              "dead": "!query.is_alive"
            }
          ],
          "on_exit": [
            "/scoreboard players set @s hometimer 17",
            "/tag @s remove home",
            "/scoreboard players add @s deaths 1",
            "/execute @s[scores={killstreak=10..}] ~~~ tellraw @a {\"rawtext\":[{\"text\":\"§¶§cUAC §b► §d\"},{\"selector\":\"@s\"},{\"text\":\" Has lost their killstreak!\"}]}",
            "/scoreboard players set @s killstreak 0"
          ]
        },
        "dead": {
          "transitions": [
            {
              "default": "query.is_alive"
            }
          ]
        }
      }
    }
  }
}
